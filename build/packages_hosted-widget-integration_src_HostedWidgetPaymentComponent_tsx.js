"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["packages_hosted-widget-integration_src_HostedWidgetPaymentComponent_tsx"],{

/***/ "./packages/hosted-widget-integration/src/HostedWidgetPaymentComponent.tsx":
/*!*********************************************************************************!*\
  !*** ./packages/hosted-widget-integration/src/HostedWidgetPaymentComponent.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _bigcommerce_checkout_dom_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @bigcommerce/checkout/dom-utils */ \"./packages/dom-utils/src/preventDefault.ts\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/guards/isBankInstrument/isBankInstrument.ts\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/storedInstrument/AccountInstrumentFieldset/AccountInstrumentFieldset.tsx\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/storedInstrument/CardInstrumentFieldset/CardInstrumentFieldset.tsx\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/storedInstrument/StoreInstrumentFieldset/StoreInstrumentFieldset.tsx\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/guards/isCardInstrument/isCardInstrument.ts\");\n/* harmony import */ var _bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @bigcommerce/checkout/locale */ \"./packages/locale/src/TranslatedString.tsx\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/loading/LoadingOverlay.tsx\");\n\n\n\n\n\n\n\n\nclass HostedWidgetPaymentComponent extends react__WEBPACK_IMPORTED_MODULE_2__.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            isAddingNewCard: false,\n        };\n        this.handleDeleteInstrument = (id) => {\n            const { instruments, setFieldValue } = this.props;\n            const { selectedInstrumentId } = this.state;\n            if (instruments.length === 0) {\n                this.setState({\n                    isAddingNewCard: true,\n                    selectedInstrumentId: undefined,\n                });\n                setFieldValue('instrumentId', '');\n            }\n            else if (selectedInstrumentId === id) {\n                this.setState({\n                    selectedInstrumentId: this.getDefaultInstrumentId(),\n                });\n                setFieldValue('instrumentId', this.getDefaultInstrumentId());\n            }\n        };\n        this.handleUseNewCard = () => (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(this, void 0, void 0, function* () {\n            const { deinitializePayment, initializePayment = lodash__WEBPACK_IMPORTED_MODULE_1__.noop, method } = this.props;\n            this.setState({\n                isAddingNewCard: true,\n                selectedInstrumentId: undefined,\n            });\n            yield deinitializePayment({\n                gatewayId: method.gateway,\n                methodId: method.id,\n            });\n            // eslint-disable-next-line @typescript-eslint/await-thenable\n            yield initializePayment({\n                gatewayId: method.gateway,\n                methodId: method.id,\n            });\n        });\n        this.handleSelectInstrument = (id) => {\n            this.setState({\n                isAddingNewCard: false,\n                selectedInstrumentId: id,\n            });\n        };\n    }\n    componentDidMount() {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(this, void 0, void 0, function* () {\n            const { isInstrumentFeatureAvailable: isInstrumentFeatureAvailableProp, loadInstruments, method, onUnhandledError = lodash__WEBPACK_IMPORTED_MODULE_1__.noop, setValidationSchema, } = this.props;\n            setValidationSchema(method, this.getValidationSchema());\n            try {\n                if (isInstrumentFeatureAvailableProp) {\n                    yield loadInstruments();\n                }\n                yield this.initializeMethod();\n            }\n            catch (error) {\n                onUnhandledError(error);\n            }\n        });\n    }\n    componentDidUpdate(prevProps, prevState) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(this, void 0, void 0, function* () {\n            const { deinitializePayment, instruments, method, onUnhandledError = lodash__WEBPACK_IMPORTED_MODULE_1__.noop, setValidationSchema, isPaymentDataRequired, } = this.props;\n            const { selectedInstrumentId } = this.state;\n            setValidationSchema(method, this.getValidationSchema());\n            if (selectedInstrumentId !== prevState.selectedInstrumentId ||\n                (prevProps.instruments.length > 0 && instruments.length === 0) ||\n                prevProps.isPaymentDataRequired !== isPaymentDataRequired) {\n                try {\n                    yield deinitializePayment({\n                        gatewayId: method.gateway,\n                        methodId: method.id,\n                    });\n                    yield this.initializeMethod();\n                }\n                catch (error) {\n                    onUnhandledError(error);\n                }\n            }\n        });\n    }\n    componentWillUnmount() {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(this, void 0, void 0, function* () {\n            const { deinitializeCustomer = lodash__WEBPACK_IMPORTED_MODULE_1__.noop, deinitializePayment, method, onUnhandledError = lodash__WEBPACK_IMPORTED_MODULE_1__.noop, setSubmit, setValidationSchema, } = this.props;\n            setValidationSchema(method, null);\n            setSubmit(method, null);\n            try {\n                yield deinitializePayment({\n                    gatewayId: method.gateway,\n                    methodId: method.id,\n                });\n                // eslint-disable-next-line @typescript-eslint/await-thenable\n                yield deinitializeCustomer({\n                    methodId: method.id,\n                });\n            }\n            catch (error) {\n                onUnhandledError(error);\n            }\n        });\n    }\n    render() {\n        const { instruments, hideWidget = false, isInitializing = false, isAccountInstrument, isInstrumentFeatureAvailable: isInstrumentFeatureAvailableProp, isLoadingInstruments, shouldHideInstrumentExpiryDate = false, shouldShow = true, } = this.props;\n        const { isAddingNewCard, selectedInstrumentId = this.getDefaultInstrumentId() } = this.state;\n        if (!shouldShow) {\n            return null;\n        }\n        const selectedInstrument = instruments.find((instrument) => instrument.bigpayToken === selectedInstrumentId) ||\n            instruments[0];\n        const shouldShowInstrumentFieldset = isInstrumentFeatureAvailableProp && instruments.length > 0;\n        const shouldShowCreditCardFieldset = !shouldShowInstrumentFieldset || isAddingNewCard;\n        const isLoading = (isInitializing || isLoadingInstruments) && !hideWidget;\n        const selectedAccountInstrument = this.getSelectedBankAccountInstrument(isAddingNewCard, selectedInstrument);\n        const shouldShowAccountInstrument = instruments[0] && (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_4__.isBankAccountInstrument)(instruments[0]);\n        return (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { hideContentWhenLoading: true, isLoading: isLoading },\n            react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"paymentMethod--hosted\" },\n                shouldShowAccountInstrument && shouldShowInstrumentFieldset && (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_6__[\"default\"]\n                // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n                , { \n                    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n                    instruments: instruments, onSelectInstrument: this.handleSelectInstrument, onUseNewInstrument: this.handleUseNewCard, selectedInstrument: selectedAccountInstrument })),\n                !shouldShowAccountInstrument && shouldShowInstrumentFieldset && (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_7__[\"default\"]\n                // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n                , { \n                    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n                    instruments: instruments, onDeleteInstrument: this.handleDeleteInstrument, onSelectInstrument: this.handleSelectInstrument, onUseNewInstrument: this.handleUseNewCard, selectedInstrumentId: selectedInstrumentId, shouldHideExpiryDate: shouldHideInstrumentExpiryDate, validateInstrument: this.getValidateInstrument() })),\n                this.renderPaymentDescriptorIfAvailable(),\n                this.renderContainer(shouldShowCreditCardFieldset),\n                isInstrumentFeatureAvailableProp && (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_8__[\"default\"], { instrumentId: selectedInstrumentId, instruments: instruments, isAccountInstrument: isAccountInstrument || shouldShowAccountInstrument })),\n                this.renderEditButtonIfAvailable())));\n    }\n    getValidateInstrument() {\n        const { hideVerificationFields, instruments, method, isInstrumentCardNumberRequired: isInstrumentCardNumberRequiredProp, validateInstrument, } = this.props;\n        const { selectedInstrumentId = this.getDefaultInstrumentId() } = this.state;\n        const selectedInstrument = (0,lodash__WEBPACK_IMPORTED_MODULE_1__.find)(instruments, {\n            bigpayToken: selectedInstrumentId,\n        });\n        if (selectedInstrument) {\n            (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(selectedInstrument);\n            const shouldShowNumberField = isInstrumentCardNumberRequiredProp(selectedInstrument, method);\n            if (hideVerificationFields) {\n                return;\n            }\n            if (validateInstrument) {\n                return validateInstrument(shouldShowNumberField, selectedInstrument);\n            }\n        }\n    }\n    renderContainer(shouldShowCreditCardFieldset) {\n        const { containerId, hideContentWhenSignedOut = false, hideWidget, isSignInRequired = false, isSignedIn, method, additionalContainerClassName, shouldRenderCustomInstrument = false, renderCustomPaymentForm, } = this.props;\n        return (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: classnames__WEBPACK_IMPORTED_MODULE_0___default()('widget', `widget--${method.id}`, 'payment-widget', shouldRenderCustomInstrument ? '' : additionalContainerClassName), id: containerId, style: {\n                display: (hideContentWhenSignedOut && isSignInRequired && !isSignedIn) ||\n                    !shouldShowCreditCardFieldset ||\n                    hideWidget\n                    ? 'none'\n                    : undefined,\n            }, tabIndex: -1 }, shouldRenderCustomInstrument &&\n            renderCustomPaymentForm &&\n            renderCustomPaymentForm()));\n    }\n    getValidationSchema() {\n        const { isInstrumentFeatureAvailable: isInstrumentFeatureAvailableProp, isPaymentDataRequired, storedCardValidationSchema, } = this.props;\n        if (!isPaymentDataRequired) {\n            return null;\n        }\n        const selectedInstrument = this.getSelectedInstrument();\n        if (isInstrumentFeatureAvailableProp && selectedInstrument) {\n            return storedCardValidationSchema || null;\n        }\n        return null;\n    }\n    getSelectedInstrument() {\n        const { instruments } = this.props;\n        const { selectedInstrumentId = this.getDefaultInstrumentId() } = this.state;\n        return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.find)(instruments, { bigpayToken: selectedInstrumentId });\n    }\n    getSelectedBankAccountInstrument(isAddingNewCard, selectedInstrument) {\n        return !isAddingNewCard && (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_4__.isBankAccountInstrument)(selectedInstrument)\n            ? selectedInstrument\n            : undefined;\n    }\n    renderEditButtonIfAvailable() {\n        const { shouldShowEditButton, buttonId } = this.props;\n        const translatedString = react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_10__[\"default\"], { id: \"remote.select_different_card_action\" });\n        if (shouldShowEditButton) {\n            return (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"p\", null, \n            // eslint-disable-next-line jsx-a11y/anchor-is-valid, jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n            react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"a\", { className: classnames__WEBPACK_IMPORTED_MODULE_0___default()('stepHeader', 'widget-link-amazonpay'), id: buttonId, onClick: (0,_bigcommerce_checkout_dom_utils__WEBPACK_IMPORTED_MODULE_11__[\"default\"])() }, translatedString)));\n        }\n    }\n    renderPaymentDescriptorIfAvailable() {\n        const { shouldShowDescriptor, paymentDescriptor } = this.props;\n        if (shouldShowDescriptor && paymentDescriptor) {\n            return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"payment-descriptor\" }, paymentDescriptor);\n        }\n    }\n    initializeMethod() {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(this, void 0, void 0, function* () {\n            const { isPaymentDataRequired, isSignedIn, isSignInRequired, initializeCustomer = lodash__WEBPACK_IMPORTED_MODULE_1__.noop, initializePayment = lodash__WEBPACK_IMPORTED_MODULE_1__.noop, instruments, method, setSubmit, signInCustomer = lodash__WEBPACK_IMPORTED_MODULE_1__.noop, } = this.props;\n            const { selectedInstrumentId = this.getDefaultInstrumentId(), isAddingNewCard } = this.state;\n            let selectedInstrument;\n            if (!isPaymentDataRequired) {\n                setSubmit(method, null);\n                return Promise.resolve();\n            }\n            if (isSignInRequired && !isSignedIn) {\n                setSubmit(method, signInCustomer);\n                return initializeCustomer({\n                    methodId: method.id,\n                });\n            }\n            setSubmit(method, null);\n            if (!isAddingNewCard) {\n                selectedInstrument =\n                    instruments.find((instrument) => instrument.bigpayToken === selectedInstrumentId) ||\n                        instruments[0];\n            }\n            return initializePayment({\n                gatewayId: method.gateway,\n                methodId: method.id,\n            }, selectedInstrument);\n        });\n    }\n    getDefaultInstrumentId() {\n        const { isAddingNewCard } = this.state;\n        if (isAddingNewCard) {\n            return;\n        }\n        const { instruments } = this.props;\n        const defaultInstrument = instruments.find((instrument) => instrument.defaultInstrument) || instruments[0];\n        return defaultInstrument && defaultInstrument.bigpayToken;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HostedWidgetPaymentComponent);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9ob3N0ZWQtd2lkZ2V0LWludGVncmF0aW9uL3NyYy9Ib3N0ZWRXaWRnZXRQYXltZW50Q29tcG9uZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVlvQztBQUNBO0FBQ3FCO0FBR1E7QUFPakI7QUFDZ0I7QUFFTjtBQW1GMUQsTUFBTSw0QkFBNkIsU0FBUSw0Q0FFMUM7SUFGRDs7UUFHSSxVQUFLLEdBQW1DO1lBQ3BDLGVBQWUsRUFBRSxLQUFLO1NBQ3pCLENBQUM7UUF5UU0sMkJBQXNCLEdBQXlCLENBQUMsRUFBRSxFQUFFLEVBQUU7WUFDMUQsTUFBTSxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ2xELE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFFNUMsSUFBSSxXQUFXLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO2dCQUMzQixJQUFJLENBQUMsUUFBUSxDQUFDO29CQUNWLGVBQWUsRUFBRSxJQUFJO29CQUNyQixvQkFBb0IsRUFBRSxTQUFTO2lCQUNsQyxDQUFDLENBQUM7Z0JBRUgsYUFBYSxDQUFDLGNBQWMsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUN0QyxDQUFDO2lCQUFNLElBQUksb0JBQW9CLEtBQUssRUFBRSxFQUFFLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxRQUFRLENBQUM7b0JBQ1Ysb0JBQW9CLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixFQUFFO2lCQUN0RCxDQUFDLENBQUM7Z0JBRUgsYUFBYSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQyxDQUFDO1lBQ2pFLENBQUM7UUFDTCxDQUFDLENBQUM7UUF3R00scUJBQWdCLEdBQWUsR0FBUyxFQUFFLENBQUM7WUFDL0MsTUFBTSxFQUFFLG1CQUFtQixFQUFFLGlCQUFpQixHQUFHLHdDQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsSUFB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QUE7SUFFTyxzQkFBc0I7UUFDMUIsTUFBTSxFQUFFLGVBQWUsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFFdkMsSUFBSSxlQUFlLEVBQUUsQ0FBQztZQUNsQixPQUFPO1FBQ1gsQ0FBQztRQUVELE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ25DLE1BQU0saUJBQWlCLEdBQ25CLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVyRixPQUFPLGlCQUFpQixJQUFJLGlCQUFpQixDQUFDLFdBQVcsQ0FBQztJQUM5RCxDQUFDO0NBNEJKO0FBRUQsaUVBQWUsNEJBQTRCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2hvc3RlZC13aWRnZXQtaW50ZWdyYXRpb24vc3JjL0hvc3RlZFdpZGdldFBheW1lbnRDb21wb25lbnQudHN4PzUyYTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICB0eXBlIEFjY291bnRJbnN0cnVtZW50LFxuICAgIHR5cGUgQ2FyZEluc3RydW1lbnQsXG4gICAgdHlwZSBDaGVja291dFNlbGVjdG9ycyxcbiAgICB0eXBlIEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgdHlwZSBDdXN0b21lclJlcXVlc3RPcHRpb25zLFxuICAgIHR5cGUgSW5zdHJ1bWVudCxcbiAgICB0eXBlIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICB0eXBlIFBheW1lbnRJbnN0cnVtZW50LFxuICAgIHR5cGUgUGF5bWVudE1ldGhvZCxcbiAgICB0eXBlIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkayc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IGZpbmQsIG5vb3AgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCwgdHlwZSBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB0eXBlIE9iamVjdFNjaGVtYSB9IGZyb20gJ3l1cCc7XG5cbmltcG9ydCB7IHByZXZlbnREZWZhdWx0IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L2RvbS11dGlscyc7XG5pbXBvcnQge1xuICAgIEFjY291bnRJbnN0cnVtZW50RmllbGRzZXQsXG4gICAgYXNzZXJ0SXNDYXJkSW5zdHJ1bWVudCxcbiAgICBDYXJkSW5zdHJ1bWVudEZpZWxkc2V0LFxuICAgIGlzQmFua0FjY291bnRJbnN0cnVtZW50LFxuICAgIFN0b3JlSW5zdHJ1bWVudEZpZWxkc2V0LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvaW5zdHJ1bWVudC11dGlscyc7XG5pbXBvcnQgeyBUcmFuc2xhdGVkU3RyaW5nIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L2xvY2FsZSc7XG5pbXBvcnQgeyB0eXBlIFBheW1lbnRGb3JtVmFsdWVzIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IExvYWRpbmdPdmVybGF5IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L3VpJztcblxuZXhwb3J0IGludGVyZmFjZSBIb3N0ZWRXaWRnZXRDb21wb25lbnRTdGF0ZSB7XG4gICAgaXNBZGRpbmdOZXdDYXJkOiBib29sZWFuO1xuICAgIHNlbGVjdGVkSW5zdHJ1bWVudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnRDb250ZXh0UHJvcHMge1xuICAgIGRpc2FibGVTdWJtaXQobWV0aG9kOiBQYXltZW50TWV0aG9kLCBkaXNhYmxlZD86IGJvb2xlYW4pOiB2b2lkO1xuICAgIC8vIE5PVEU6IFRoaXMgcHJvcCBhbGxvd3MgY2VydGFpbiBwYXltZW50IG1ldGhvZHMgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRcbiAgICAvLyBmb3JtIHN1Ym1pc3Npb24gYmVoYXZpb3VyLiBJdCBpcyBub3QgcmVjb21tZW5kZWQgdG8gdXNlIGl0IGJlY2F1c2VcbiAgICAvLyBnZW5lcmFsbHkgc3BlYWtpbmcgd2Ugd2FudCB0byBhdm9pZCBtZXRob2Qtc3BlY2lmaWMgc25vd2ZsYWtlIGJlaGF2aW91cnMuXG4gICAgLy8gTmV2ZXJ0aGVsZXNzLCBiZWNhdXNlIG9mIHNvbWUgcHJvZHVjdCAvIFVYIGRlY2lzaW9ucyBtYWRlIGluIHRoZSBwYXN0XG4gICAgLy8gKGkuZS46IEFtYXpvbiksIHdlIGhhdmUgdG8gaGF2ZSB0aGlzIGJhY2tkb29yIHNvIHdlIGNhbiBwcmVzZXJ2ZSB0aGVzZVxuICAgIC8vIHNub3dmbGFrZSBiZWhhdmlvdXJzLiBJbiB0aGUgZnV0dXJlLCBpZiB3ZSBkZWNpZGUgdG8gY2hhbmdlIHRoZSBVWCwgd2VcbiAgICAvLyBjYW4gcmVtb3ZlIHRoaXMgcHJvcC5cbiAgICBzZXRTdWJtaXQobWV0aG9kOiBQYXltZW50TWV0aG9kLCBmbjogKCh2YWx1ZXM6IFBheW1lbnRGb3JtVmFsdWVzKSA9PiB2b2lkKSB8IG51bGwpOiB2b2lkO1xuICAgIHNldEZpZWxkVmFsdWU8VEZpZWxkIGV4dGVuZHMga2V5b2YgUGF5bWVudEZvcm1WYWx1ZXM+KFxuICAgICAgICBmaWVsZDogVEZpZWxkLFxuICAgICAgICB2YWx1ZTogUGF5bWVudEZvcm1WYWx1ZXNbVEZpZWxkXSxcbiAgICApOiB2b2lkO1xuICAgIHNldFZhbGlkYXRpb25TY2hlbWEoXG4gICAgICAgIG1ldGhvZDogUGF5bWVudE1ldGhvZCxcbiAgICAgICAgc2NoZW1hOiBPYmplY3RTY2hlbWE8UGFydGlhbDxQYXltZW50Rm9ybVZhbHVlcz4+IHwgbnVsbCxcbiAgICApOiB2b2lkO1xuICAgIGhpZGVQYXltZW50U3VibWl0QnV0dG9uKG1ldGhvZDogUGF5bWVudE1ldGhvZCwgaGlkZGVuPzogYm9vbGVhbik6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2l0aENoZWNrb3V0SG9zdGVkV2lkZ2V0UGF5bWVudE1ldGhvZFByb3BzIHtcbiAgICBpbnN0cnVtZW50czogUGF5bWVudEluc3RydW1lbnRbXTtcbiAgICBpc0luc3RydW1lbnRGZWF0dXJlQXZhaWxhYmxlOiBib29sZWFuO1xuICAgIGlzTG9hZGluZ0luc3RydW1lbnRzOiBib29sZWFuO1xuICAgIGlzUGF5bWVudERhdGFSZXF1aXJlZDogYm9vbGVhbjtcbiAgICBpc1NpZ25lZEluOiBib29sZWFuO1xuICAgIGlzSW5zdHJ1bWVudENhcmRDb2RlUmVxdWlyZWQoaW5zdHJ1bWVudDogSW5zdHJ1bWVudCwgbWV0aG9kOiBQYXltZW50TWV0aG9kKTogYm9vbGVhbjtcbiAgICBpc0luc3RydW1lbnRDYXJkTnVtYmVyUmVxdWlyZWQoaW5zdHJ1bWVudDogSW5zdHJ1bWVudCwgbWV0aG9kOiBQYXltZW50TWV0aG9kKTogYm9vbGVhbjtcbiAgICBsb2FkSW5zdHJ1bWVudHMoKTogUHJvbWlzZTxDaGVja291dFNlbGVjdG9ycz47XG4gICAgc2lnbk91dChvcHRpb25zOiBDdXN0b21lclJlcXVlc3RPcHRpb25zKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIb3N0ZWRXaWRnZXRDb21wb25lbnRQcm9wcyBleHRlbmRzIFdpdGhDaGVja291dEhvc3RlZFdpZGdldFBheW1lbnRNZXRob2RQcm9wcyB7XG4gICAgYWRkaXRpb25hbENvbnRhaW5lckNsYXNzTmFtZT86IHN0cmluZztcbiAgICBidXR0b25JZD86IHN0cmluZztcbiAgICBjb250YWluZXJJZDogc3RyaW5nO1xuICAgIGhpZGVDb250ZW50V2hlblNpZ25lZE91dD86IGJvb2xlYW47XG4gICAgaGlkZVZlcmlmaWNhdGlvbkZpZWxkcz86IGJvb2xlYW47XG4gICAgaXNBY2NvdW50SW5zdHJ1bWVudD86IGJvb2xlYW47XG4gICAgaGlkZVdpZGdldD86IGJvb2xlYW47XG4gICAgaXNJbml0aWFsaXppbmc/OiBib29sZWFuO1xuICAgIGlzVXNpbmdNdWx0aVNoaXBwaW5nPzogYm9vbGVhbjtcbiAgICBpc1NpZ25JblJlcXVpcmVkPzogYm9vbGVhbjtcbiAgICBtZXRob2Q6IFBheW1lbnRNZXRob2Q7XG4gICAgcGF5bWVudERlc2NyaXB0b3I/OiBzdHJpbmc7XG4gICAgc2hvdWxkSGlkZUluc3RydW1lbnRFeHBpcnlEYXRlPzogYm9vbGVhbjtcbiAgICBzaG91bGRTaG93PzogYm9vbGVhbjtcbiAgICBzaG91bGRTaG93RGVzY3JpcHRvcj86IGJvb2xlYW47XG4gICAgc2hvdWxkU2hvd0VkaXRCdXR0b24/OiBib29sZWFuO1xuICAgIHNob3VsZFJlbmRlckN1c3RvbUluc3RydW1lbnQ/OiBib29sZWFuO1xuICAgIHN0b3JlZENhcmRWYWxpZGF0aW9uU2NoZW1hPzogT2JqZWN0U2NoZW1hO1xuICAgIHJlbmRlckN1c3RvbVBheW1lbnRGb3JtPygpOiBSZWFjdC5SZWFjdE5vZGU7XG4gICAgdmFsaWRhdGVJbnN0cnVtZW50PyhcbiAgICAgICAgc2hvdWxkU2hvd051bWJlckZpZWxkOiBib29sZWFuLFxuICAgICAgICBzZWxlY3RlZEluc3RydW1lbnQ/OiBDYXJkSW5zdHJ1bWVudCxcbiAgICApOiBSZWFjdC5SZWFjdE5vZGU7XG4gICAgZGVpbml0aWFsaXplQ3VzdG9tZXI/KG9wdGlvbnM6IEN1c3RvbWVyUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPENoZWNrb3V0U2VsZWN0b3JzPjtcbiAgICBkZWluaXRpYWxpemVQYXltZW50KG9wdGlvbnM6IFBheW1lbnRSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8Q2hlY2tvdXRTZWxlY3RvcnM+O1xuICAgIGluaXRpYWxpemVDdXN0b21lcj8ob3B0aW9uczogQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyk6IFByb21pc2U8Q2hlY2tvdXRTZWxlY3RvcnM+O1xuICAgIGluaXRpYWxpemVQYXltZW50KFxuICAgICAgICBvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgICAgIHNlbGVjdGVkSW5zdHJ1bWVudD86IENhcmRJbnN0cnVtZW50LFxuICAgICk6IFByb21pc2U8Q2hlY2tvdXRTZWxlY3RvcnM+O1xuICAgIG9uUGF5bWVudFNlbGVjdD8oKTogdm9pZDtcbiAgICBvblNpZ25PdXQ/KCk6IHZvaWQ7XG4gICAgb25TaWduT3V0RXJyb3I/KGVycm9yOiBFcnJvcik6IHZvaWQ7XG4gICAgb25VbmhhbmRsZWRFcnJvcj8oZXJyb3I6IEVycm9yKTogdm9pZDtcbiAgICBzaWduSW5DdXN0b21lcj8oKTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIEhvc3RlZFdpZGdldFBheW1lbnRNZXRob2RTdGF0ZSB7XG4gICAgaXNBZGRpbmdOZXdDYXJkOiBib29sZWFuO1xuICAgIHNlbGVjdGVkSW5zdHJ1bWVudElkPzogc3RyaW5nO1xufVxuXG5jbGFzcyBIb3N0ZWRXaWRnZXRQYXltZW50Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50PFxuICAgIEhvc3RlZFdpZGdldENvbXBvbmVudFByb3BzICYgUGF5bWVudENvbnRleHRQcm9wc1xuPiB7XG4gICAgc3RhdGU6IEhvc3RlZFdpZGdldFBheW1lbnRNZXRob2RTdGF0ZSA9IHtcbiAgICAgICAgaXNBZGRpbmdOZXdDYXJkOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgYXN5bmMgY29tcG9uZW50RGlkTW91bnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGlzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGU6IGlzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGVQcm9wLFxuICAgICAgICAgICAgbG9hZEluc3RydW1lbnRzLFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvciA9IG5vb3AsXG4gICAgICAgICAgICBzZXRWYWxpZGF0aW9uU2NoZW1hLFxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICBzZXRWYWxpZGF0aW9uU2NoZW1hKG1ldGhvZCwgdGhpcy5nZXRWYWxpZGF0aW9uU2NoZW1hKCkpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoaXNJbnN0cnVtZW50RmVhdHVyZUF2YWlsYWJsZVByb3ApIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkSW5zdHJ1bWVudHMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplTWV0aG9kKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGNvbXBvbmVudERpZFVwZGF0ZShcbiAgICAgICAgcHJldlByb3BzOiBSZWFkb25seTxcbiAgICAgICAgICAgIEhvc3RlZFdpZGdldENvbXBvbmVudFByb3BzICYgV2l0aENoZWNrb3V0SG9zdGVkV2lkZ2V0UGF5bWVudE1ldGhvZFByb3BzXG4gICAgICAgID4sXG4gICAgICAgIHByZXZTdGF0ZTogUmVhZG9ubHk8SG9zdGVkV2lkZ2V0UGF5bWVudE1ldGhvZFN0YXRlPixcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgZGVpbml0aWFsaXplUGF5bWVudCxcbiAgICAgICAgICAgIGluc3RydW1lbnRzLFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvciA9IG5vb3AsXG4gICAgICAgICAgICBzZXRWYWxpZGF0aW9uU2NoZW1hLFxuICAgICAgICAgICAgaXNQYXltZW50RGF0YVJlcXVpcmVkLFxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICBjb25zdCB7IHNlbGVjdGVkSW5zdHJ1bWVudElkIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgIHNldFZhbGlkYXRpb25TY2hlbWEobWV0aG9kLCB0aGlzLmdldFZhbGlkYXRpb25TY2hlbWEoKSk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2VsZWN0ZWRJbnN0cnVtZW50SWQgIT09IHByZXZTdGF0ZS5zZWxlY3RlZEluc3RydW1lbnRJZCB8fFxuICAgICAgICAgICAgKHByZXZQcm9wcy5pbnN0cnVtZW50cy5sZW5ndGggPiAwICYmIGluc3RydW1lbnRzLmxlbmd0aCA9PT0gMCkgfHxcbiAgICAgICAgICAgIHByZXZQcm9wcy5pc1BheW1lbnREYXRhUmVxdWlyZWQgIT09IGlzUGF5bWVudERhdGFSZXF1aXJlZFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZGVpbml0aWFsaXplUGF5bWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGdhdGV3YXlJZDogbWV0aG9kLmdhdGV3YXksXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZElkOiBtZXRob2QuaWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplTWV0aG9kKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIG9uVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgY29tcG9uZW50V2lsbFVubW91bnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGRlaW5pdGlhbGl6ZUN1c3RvbWVyID0gbm9vcCxcbiAgICAgICAgICAgIGRlaW5pdGlhbGl6ZVBheW1lbnQsXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yID0gbm9vcCxcbiAgICAgICAgICAgIHNldFN1Ym1pdCxcbiAgICAgICAgICAgIHNldFZhbGlkYXRpb25TY2hlbWEsXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIHNldFZhbGlkYXRpb25TY2hlbWEobWV0aG9kLCBudWxsKTtcbiAgICAgICAgc2V0U3VibWl0KG1ldGhvZCwgbnVsbCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGRlaW5pdGlhbGl6ZVBheW1lbnQoe1xuICAgICAgICAgICAgICAgIGdhdGV3YXlJZDogbWV0aG9kLmdhdGV3YXksXG4gICAgICAgICAgICAgICAgbWV0aG9kSWQ6IG1ldGhvZC5pZCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2F3YWl0LXRoZW5hYmxlXG4gICAgICAgICAgICBhd2FpdCBkZWluaXRpYWxpemVDdXN0b21lcih7XG4gICAgICAgICAgICAgICAgbWV0aG9kSWQ6IG1ldGhvZC5pZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKTogUmVhY3ROb2RlIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgaW5zdHJ1bWVudHMsXG4gICAgICAgICAgICBoaWRlV2lkZ2V0ID0gZmFsc2UsXG4gICAgICAgICAgICBpc0luaXRpYWxpemluZyA9IGZhbHNlLFxuICAgICAgICAgICAgaXNBY2NvdW50SW5zdHJ1bWVudCxcbiAgICAgICAgICAgIGlzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGU6IGlzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGVQcm9wLFxuICAgICAgICAgICAgaXNMb2FkaW5nSW5zdHJ1bWVudHMsXG4gICAgICAgICAgICBzaG91bGRIaWRlSW5zdHJ1bWVudEV4cGlyeURhdGUgPSBmYWxzZSxcbiAgICAgICAgICAgIHNob3VsZFNob3cgPSB0cnVlLFxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICBjb25zdCB7IGlzQWRkaW5nTmV3Q2FyZCwgc2VsZWN0ZWRJbnN0cnVtZW50SWQgPSB0aGlzLmdldERlZmF1bHRJbnN0cnVtZW50SWQoKSB9ID1cbiAgICAgICAgICAgIHRoaXMuc3RhdGU7XG5cbiAgICAgICAgaWYgKCFzaG91bGRTaG93KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSW5zdHJ1bWVudCA9XG4gICAgICAgICAgICBpbnN0cnVtZW50cy5maW5kKChpbnN0cnVtZW50KSA9PiBpbnN0cnVtZW50LmJpZ3BheVRva2VuID09PSBzZWxlY3RlZEluc3RydW1lbnRJZCkgfHxcbiAgICAgICAgICAgIGluc3RydW1lbnRzWzBdO1xuXG4gICAgICAgIGNvbnN0IHNob3VsZFNob3dJbnN0cnVtZW50RmllbGRzZXQgPVxuICAgICAgICAgICAgaXNJbnN0cnVtZW50RmVhdHVyZUF2YWlsYWJsZVByb3AgJiYgaW5zdHJ1bWVudHMubGVuZ3RoID4gMDtcbiAgICAgICAgY29uc3Qgc2hvdWxkU2hvd0NyZWRpdENhcmRGaWVsZHNldCA9ICFzaG91bGRTaG93SW5zdHJ1bWVudEZpZWxkc2V0IHx8IGlzQWRkaW5nTmV3Q2FyZDtcbiAgICAgICAgY29uc3QgaXNMb2FkaW5nID0gKGlzSW5pdGlhbGl6aW5nIHx8IGlzTG9hZGluZ0luc3RydW1lbnRzKSAmJiAhaGlkZVdpZGdldDtcblxuICAgICAgICBjb25zdCBzZWxlY3RlZEFjY291bnRJbnN0cnVtZW50ID0gdGhpcy5nZXRTZWxlY3RlZEJhbmtBY2NvdW50SW5zdHJ1bWVudChcbiAgICAgICAgICAgIGlzQWRkaW5nTmV3Q2FyZCxcbiAgICAgICAgICAgIHNlbGVjdGVkSW5zdHJ1bWVudCxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgc2hvdWxkU2hvd0FjY291bnRJbnN0cnVtZW50ID1cbiAgICAgICAgICAgIGluc3RydW1lbnRzWzBdICYmIGlzQmFua0FjY291bnRJbnN0cnVtZW50KGluc3RydW1lbnRzWzBdKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPExvYWRpbmdPdmVybGF5IGhpZGVDb250ZW50V2hlbkxvYWRpbmcgaXNMb2FkaW5nPXtpc0xvYWRpbmd9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGF5bWVudE1ldGhvZC0taG9zdGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIHtzaG91bGRTaG93QWNjb3VudEluc3RydW1lbnQgJiYgc2hvdWxkU2hvd0luc3RydW1lbnRGaWVsZHNldCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8QWNjb3VudEluc3RydW1lbnRGaWVsZHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50cz17aW5zdHJ1bWVudHMgYXMgQWNjb3VudEluc3RydW1lbnRbXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdEluc3RydW1lbnQ9e3RoaXMuaGFuZGxlU2VsZWN0SW5zdHJ1bWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblVzZU5ld0luc3RydW1lbnQ9e3RoaXMuaGFuZGxlVXNlTmV3Q2FyZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEluc3RydW1lbnQ9e3NlbGVjdGVkQWNjb3VudEluc3RydW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIHshc2hvdWxkU2hvd0FjY291bnRJbnN0cnVtZW50ICYmIHNob3VsZFNob3dJbnN0cnVtZW50RmllbGRzZXQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRJbnN0cnVtZW50RmllbGRzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2NvbnNpc3RlbnQtdHlwZS1hc3NlcnRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudHM9e2luc3RydW1lbnRzIGFzIENhcmRJbnN0cnVtZW50W119XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EZWxldGVJbnN0cnVtZW50PXt0aGlzLmhhbmRsZURlbGV0ZUluc3RydW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RJbnN0cnVtZW50PXt0aGlzLmhhbmRsZVNlbGVjdEluc3RydW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Vc2VOZXdJbnN0cnVtZW50PXt0aGlzLmhhbmRsZVVzZU5ld0NhcmR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnN0cnVtZW50SWQ9e3NlbGVjdGVkSW5zdHJ1bWVudElkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZEhpZGVFeHBpcnlEYXRlPXtzaG91bGRIaWRlSW5zdHJ1bWVudEV4cGlyeURhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVJbnN0cnVtZW50PXt0aGlzLmdldFZhbGlkYXRlSW5zdHJ1bWVudCgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJQYXltZW50RGVzY3JpcHRvcklmQXZhaWxhYmxlKCl9XG5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyQ29udGFpbmVyKHNob3VsZFNob3dDcmVkaXRDYXJkRmllbGRzZXQpfVxuXG4gICAgICAgICAgICAgICAgICAgIHtpc0luc3RydW1lbnRGZWF0dXJlQXZhaWxhYmxlUHJvcCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8U3RvcmVJbnN0cnVtZW50RmllbGRzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50SWQ9e3NlbGVjdGVkSW5zdHJ1bWVudElkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRzPXtpbnN0cnVtZW50c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0FjY291bnRJbnN0cnVtZW50PXtpc0FjY291bnRJbnN0cnVtZW50IHx8IHNob3VsZFNob3dBY2NvdW50SW5zdHJ1bWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyRWRpdEJ1dHRvbklmQXZhaWxhYmxlKCl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L0xvYWRpbmdPdmVybGF5PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldFZhbGlkYXRlSW5zdHJ1bWVudCgpOiBSZWFjdE5vZGUge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBoaWRlVmVyaWZpY2F0aW9uRmllbGRzLFxuICAgICAgICAgICAgaW5zdHJ1bWVudHMsXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICBpc0luc3RydW1lbnRDYXJkTnVtYmVyUmVxdWlyZWQ6IGlzSW5zdHJ1bWVudENhcmROdW1iZXJSZXF1aXJlZFByb3AsXG4gICAgICAgICAgICB2YWxpZGF0ZUluc3RydW1lbnQsXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0ZWRJbnN0cnVtZW50SWQgPSB0aGlzLmdldERlZmF1bHRJbnN0cnVtZW50SWQoKSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbnN0cnVtZW50ID0gZmluZChpbnN0cnVtZW50cywge1xuICAgICAgICAgICAgYmlncGF5VG9rZW46IHNlbGVjdGVkSW5zdHJ1bWVudElkLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc2VsZWN0ZWRJbnN0cnVtZW50KSB7XG4gICAgICAgICAgICBhc3NlcnRJc0NhcmRJbnN0cnVtZW50KHNlbGVjdGVkSW5zdHJ1bWVudCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFNob3dOdW1iZXJGaWVsZCA9IGlzSW5zdHJ1bWVudENhcmROdW1iZXJSZXF1aXJlZFByb3AoXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChoaWRlVmVyaWZpY2F0aW9uRmllbGRzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsaWRhdGVJbnN0cnVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlSW5zdHJ1bWVudChzaG91bGRTaG93TnVtYmVyRmllbGQsIHNlbGVjdGVkSW5zdHJ1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJDb250YWluZXIoc2hvdWxkU2hvd0NyZWRpdENhcmRGaWVsZHNldDogYW55KTogUmVhY3ROb2RlIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY29udGFpbmVySWQsXG4gICAgICAgICAgICBoaWRlQ29udGVudFdoZW5TaWduZWRPdXQgPSBmYWxzZSxcbiAgICAgICAgICAgIGhpZGVXaWRnZXQsXG4gICAgICAgICAgICBpc1NpZ25JblJlcXVpcmVkID0gZmFsc2UsXG4gICAgICAgICAgICBpc1NpZ25lZEluLFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgYWRkaXRpb25hbENvbnRhaW5lckNsYXNzTmFtZSxcbiAgICAgICAgICAgIHNob3VsZFJlbmRlckN1c3RvbUluc3RydW1lbnQgPSBmYWxzZSxcbiAgICAgICAgICAgIHJlbmRlckN1c3RvbVBheW1lbnRGb3JtLFxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgICAgICAgICAgICAgJ3dpZGdldCcsXG4gICAgICAgICAgICAgICAgICAgIGB3aWRnZXQtLSR7bWV0aG9kLmlkfWAsXG4gICAgICAgICAgICAgICAgICAgICdwYXltZW50LXdpZGdldCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFJlbmRlckN1c3RvbUluc3RydW1lbnQgPyAnJyA6IGFkZGl0aW9uYWxDb250YWluZXJDbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICBpZD17Y29udGFpbmVySWR9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTpcbiAgICAgICAgICAgICAgICAgICAgICAgIChoaWRlQ29udGVudFdoZW5TaWduZWRPdXQgJiYgaXNTaWduSW5SZXF1aXJlZCAmJiAhaXNTaWduZWRJbikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFzaG91bGRTaG93Q3JlZGl0Q2FyZEZpZWxkc2V0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlV2lkZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHRhYkluZGV4PXstMX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7c2hvdWxkUmVuZGVyQ3VzdG9tSW5zdHJ1bWVudCAmJlxuICAgICAgICAgICAgICAgICAgICByZW5kZXJDdXN0b21QYXltZW50Rm9ybSAmJlxuICAgICAgICAgICAgICAgICAgICByZW5kZXJDdXN0b21QYXltZW50Rm9ybSgpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRWYWxpZGF0aW9uU2NoZW1hKCk6IE9iamVjdFNjaGVtYSB8IG51bGwge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBpc0luc3RydW1lbnRGZWF0dXJlQXZhaWxhYmxlOiBpc0luc3RydW1lbnRGZWF0dXJlQXZhaWxhYmxlUHJvcCxcbiAgICAgICAgICAgIGlzUGF5bWVudERhdGFSZXF1aXJlZCxcbiAgICAgICAgICAgIHN0b3JlZENhcmRWYWxpZGF0aW9uU2NoZW1hLFxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICBpZiAoIWlzUGF5bWVudERhdGFSZXF1aXJlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWxlY3RlZEluc3RydW1lbnQgPSB0aGlzLmdldFNlbGVjdGVkSW5zdHJ1bWVudCgpO1xuXG4gICAgICAgIGlmIChpc0luc3RydW1lbnRGZWF0dXJlQXZhaWxhYmxlUHJvcCAmJiBzZWxlY3RlZEluc3RydW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdG9yZWRDYXJkVmFsaWRhdGlvblNjaGVtYSB8fCBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTZWxlY3RlZEluc3RydW1lbnQoKTogUGF5bWVudEluc3RydW1lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCB7IGluc3RydW1lbnRzIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCB7IHNlbGVjdGVkSW5zdHJ1bWVudElkID0gdGhpcy5nZXREZWZhdWx0SW5zdHJ1bWVudElkKCkgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgcmV0dXJuIGZpbmQoaW5zdHJ1bWVudHMsIHsgYmlncGF5VG9rZW46IHNlbGVjdGVkSW5zdHJ1bWVudElkIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRGVsZXRlSW5zdHJ1bWVudDogKGlkOiBzdHJpbmcpID0+IHZvaWQgPSAoaWQpID0+IHtcbiAgICAgICAgY29uc3QgeyBpbnN0cnVtZW50cywgc2V0RmllbGRWYWx1ZSB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyBzZWxlY3RlZEluc3RydW1lbnRJZCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICBpZiAoaW5zdHJ1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpc0FkZGluZ05ld0NhcmQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnN0cnVtZW50SWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzZXRGaWVsZFZhbHVlKCdpbnN0cnVtZW50SWQnLCAnJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRJbnN0cnVtZW50SWQgPT09IGlkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEluc3RydW1lbnRJZDogdGhpcy5nZXREZWZhdWx0SW5zdHJ1bWVudElkKCksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2V0RmllbGRWYWx1ZSgnaW5zdHJ1bWVudElkJywgdGhpcy5nZXREZWZhdWx0SW5zdHJ1bWVudElkKCkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByaXZhdGUgZ2V0U2VsZWN0ZWRCYW5rQWNjb3VudEluc3RydW1lbnQoXG4gICAgICAgIGlzQWRkaW5nTmV3Q2FyZDogYm9vbGVhbixcbiAgICAgICAgc2VsZWN0ZWRJbnN0cnVtZW50OiBQYXltZW50SW5zdHJ1bWVudCxcbiAgICApOiBBY2NvdW50SW5zdHJ1bWVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiAhaXNBZGRpbmdOZXdDYXJkICYmIGlzQmFua0FjY291bnRJbnN0cnVtZW50KHNlbGVjdGVkSW5zdHJ1bWVudClcbiAgICAgICAgICAgID8gc2VsZWN0ZWRJbnN0cnVtZW50XG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckVkaXRCdXR0b25JZkF2YWlsYWJsZSgpIHtcbiAgICAgICAgY29uc3QgeyBzaG91bGRTaG93RWRpdEJ1dHRvbiwgYnV0dG9uSWQgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHRyYW5zbGF0ZWRTdHJpbmcgPSA8VHJhbnNsYXRlZFN0cmluZyBpZD1cInJlbW90ZS5zZWxlY3RfZGlmZmVyZW50X2NhcmRfYWN0aW9uXCIgLz47XG5cbiAgICAgICAgaWYgKHNob3VsZFNob3dFZGl0QnV0dG9uKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvYW5jaG9yLWlzLXZhbGlkLCBqc3gtYTExeS9jbGljay1ldmVudHMtaGF2ZS1rZXktZXZlbnRzLCBqc3gtYTExeS9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzdGVwSGVhZGVyJywgJ3dpZGdldC1saW5rLWFtYXpvbnBheScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtidXR0b25JZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtwcmV2ZW50RGVmYXVsdCgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0cmFuc2xhdGVkU3RyaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyUGF5bWVudERlc2NyaXB0b3JJZkF2YWlsYWJsZSgpIHtcbiAgICAgICAgY29uc3QgeyBzaG91bGRTaG93RGVzY3JpcHRvciwgcGF5bWVudERlc2NyaXB0b3IgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAgICAgaWYgKHNob3VsZFNob3dEZXNjcmlwdG9yICYmIHBheW1lbnREZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYXltZW50LWRlc2NyaXB0b3JcIj57cGF5bWVudERlc2NyaXB0b3J9PC9kaXY+O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplTWV0aG9kKCk6IFByb21pc2U8Q2hlY2tvdXRTZWxlY3RvcnMgfCB2b2lkPiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGlzUGF5bWVudERhdGFSZXF1aXJlZCxcbiAgICAgICAgICAgIGlzU2lnbmVkSW4sXG4gICAgICAgICAgICBpc1NpZ25JblJlcXVpcmVkLFxuICAgICAgICAgICAgaW5pdGlhbGl6ZUN1c3RvbWVyID0gbm9vcCxcbiAgICAgICAgICAgIGluaXRpYWxpemVQYXltZW50ID0gbm9vcCxcbiAgICAgICAgICAgIGluc3RydW1lbnRzLFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgc2V0U3VibWl0LFxuICAgICAgICAgICAgc2lnbkluQ3VzdG9tZXIgPSBub29wLFxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICBjb25zdCB7IHNlbGVjdGVkSW5zdHJ1bWVudElkID0gdGhpcy5nZXREZWZhdWx0SW5zdHJ1bWVudElkKCksIGlzQWRkaW5nTmV3Q2FyZCB9ID1cbiAgICAgICAgICAgIHRoaXMuc3RhdGU7XG5cbiAgICAgICAgbGV0IHNlbGVjdGVkSW5zdHJ1bWVudDtcblxuICAgICAgICBpZiAoIWlzUGF5bWVudERhdGFSZXF1aXJlZCkge1xuICAgICAgICAgICAgc2V0U3VibWl0KG1ldGhvZCwgbnVsbCk7XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1NpZ25JblJlcXVpcmVkICYmICFpc1NpZ25lZEluKSB7XG4gICAgICAgICAgICBzZXRTdWJtaXQobWV0aG9kLCBzaWduSW5DdXN0b21lcik7XG5cbiAgICAgICAgICAgIHJldHVybiBpbml0aWFsaXplQ3VzdG9tZXIoe1xuICAgICAgICAgICAgICAgIG1ldGhvZElkOiBtZXRob2QuaWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFN1Ym1pdChtZXRob2QsIG51bGwpO1xuXG4gICAgICAgIGlmICghaXNBZGRpbmdOZXdDYXJkKSB7XG4gICAgICAgICAgICBzZWxlY3RlZEluc3RydW1lbnQgPVxuICAgICAgICAgICAgICAgIGluc3RydW1lbnRzLmZpbmQoKGluc3RydW1lbnQpID0+IGluc3RydW1lbnQuYmlncGF5VG9rZW4gPT09IHNlbGVjdGVkSW5zdHJ1bWVudElkKSB8fFxuICAgICAgICAgICAgICAgIGluc3RydW1lbnRzWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluaXRpYWxpemVQYXltZW50KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdhdGV3YXlJZDogbWV0aG9kLmdhdGV3YXksXG4gICAgICAgICAgICAgICAgbWV0aG9kSWQ6IG1ldGhvZC5pZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxlY3RlZEluc3RydW1lbnQsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXREZWZhdWx0SW5zdHJ1bWVudElkKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IHsgaXNBZGRpbmdOZXdDYXJkIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgIGlmIChpc0FkZGluZ05ld0NhcmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgaW5zdHJ1bWVudHMgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRJbnN0cnVtZW50ID1cbiAgICAgICAgICAgIGluc3RydW1lbnRzLmZpbmQoKGluc3RydW1lbnQpID0+IGluc3RydW1lbnQuZGVmYXVsdEluc3RydW1lbnQpIHx8IGluc3RydW1lbnRzWzBdO1xuXG4gICAgICAgIHJldHVybiBkZWZhdWx0SW5zdHJ1bWVudCAmJiBkZWZhdWx0SW5zdHJ1bWVudC5iaWdwYXlUb2tlbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZVVzZU5ld0NhcmQ6ICgpID0+IHZvaWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZGVpbml0aWFsaXplUGF5bWVudCwgaW5pdGlhbGl6ZVBheW1lbnQgPSBub29wLCBtZXRob2QgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0FkZGluZ05ld0NhcmQ6IHRydWUsXG4gICAgICAgICAgICBzZWxlY3RlZEluc3RydW1lbnRJZDogdW5kZWZpbmVkLFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBkZWluaXRpYWxpemVQYXltZW50KHtcbiAgICAgICAgICAgIGdhdGV3YXlJZDogbWV0aG9kLmdhdGV3YXksXG4gICAgICAgICAgICBtZXRob2RJZDogbWV0aG9kLmlkLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2F3YWl0LXRoZW5hYmxlXG4gICAgICAgIGF3YWl0IGluaXRpYWxpemVQYXltZW50KHtcbiAgICAgICAgICAgIGdhdGV3YXlJZDogbWV0aG9kLmdhdGV3YXksXG4gICAgICAgICAgICBtZXRob2RJZDogbWV0aG9kLmlkLFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBoYW5kbGVTZWxlY3RJbnN0cnVtZW50OiAoaWQ6IHN0cmluZykgPT4gdm9pZCA9IChpZCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzQWRkaW5nTmV3Q2FyZDogZmFsc2UsXG4gICAgICAgICAgICBzZWxlY3RlZEluc3RydW1lbnRJZDogaWQsXG4gICAgICAgIH0pO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhvc3RlZFdpZGdldFBheW1lbnRDb21wb25lbnQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/hosted-widget-integration/src/HostedWidgetPaymentComponent.tsx\n");

/***/ })

}]);